import{s as z}from"./request-CT5bBdcx.js";/* empty css                     *//* empty css                     */import{e as N,r as S,c as f,b as a,w as n,W as T,U as P,X as L,Y as j,o as u,i as r,n as m,a as I,t as v,g as c,E as $,S as R,T as W,_ as X,a0 as Y}from"./index-4IXDAXJx.js";function q(i){return z({url:"/user/list",method:"get",params:i})}function A(i={}){return z({url:"/user/updateStatus",method:"put",data:i})}const G={key:0,style:{color:"#3EC8FF"}},H={key:1,style:{color:"#FD4C40"}},J={class:"block-span"},K={class:"block-span"},ee={__name:"Cuser",setup(i){const l=N({pageNum:1,pageSize:10,userId:"",nickName:""}),k=S([]),b=S(0);async function p(){const s=await q(l);k.value=s.rows,b.value=s.total}p();function E(){l.pageNum=1,p()}function h(){l.pageNum=1,l.pageSize=10,l.userId="",l.nickName="",p()}function w(s){l.pageNum=1,p()}function V(s){p()}const _=N({userId:"",status:""});async function x(s,e){_.userId=s,_.status=e,await A(_),p()}return(s,e)=>{const C=$,g=R,d=W,U=P,o=X,y=Y,F=L,B=j;return u(),f(T,null,[a(U,{inline:"true"},{default:n(()=>[a(g,{label:"用户ID"},{default:n(()=>[a(C,{modelValue:l.userId,"onUpdate:modelValue":e[0]||(e[0]=t=>l.userId=t),placeholder:"请输入用户ID"},null,8,["modelValue"])]),_:1}),a(g,{label:"用户昵称"},{default:n(()=>[a(C,{modelValue:l.nickName,"onUpdate:modelValue":e[1]||(e[1]=t=>l.nickName=t),placeholder:"请输入用户昵称(不分大小写)"},null,8,["modelValue"])]),_:1}),a(g,null,{default:n(()=>[a(d,{onClick:E,plain:""},{default:n(()=>e[4]||(e[4]=[r("搜索")])),_:1}),a(d,{onClick:h,plain:"",type:"info"},{default:n(()=>e[5]||(e[5]=[r("重置")])),_:1})]),_:1})]),_:1}),a(F,{height:"526px",data:k.value},{default:n(()=>[a(o,{prop:"userId",label:"用户ID",width:"180px"}),a(o,{prop:"nickName",label:"用户昵称"}),a(o,{prop:"sex",label:"用户性别"},{default:n(({row:t})=>[t.sex===1?(u(),f("div",G,"男")):m("",!0),t.sex===2?(u(),f("div",H,"女")):m("",!0)]),_:1}),a(o,{prop:"phone",width:"120px",label:"手机号"}),a(o,{prop:"email",width:"120px",label:"邮箱"}),a(o,{prop:"wechat",width:"120px",label:"微信号"}),a(o,{label:"学校/专业",width:"150px"},{default:n(({row:t})=>[I("span",J," 学校: "+v(t.schoolName),1),I("span",K," 专业: "+v(t.majorName),1)]),_:1}),a(o,{prop:"introduce",label:"个人介绍"}),a(o,{prop:"status",width:"90px",label:"用户状态"},{default:n(({row:t})=>[t.status?(u(),c(y,{key:0,type:"success"},{default:n(()=>e[6]||(e[6]=[r("正常")])),_:1})):(u(),c(y,{key:1,type:"error"},{default:n(()=>e[7]||(e[7]=[r("拉黑")])),_:1}))]),_:1}),a(o,{label:"操作",width:"80px",fixed:"right"},{default:n(({row:t})=>[t.status===1?(u(),c(d,{key:0,class:"red",type:"text",plain:"",onClick:D=>x(t.userId,0)},{default:n(()=>e[8]||(e[8]=[r("拉黑")])),_:2},1032,["onClick"])):m("",!0),t.status===0?(u(),c(d,{key:1,type:"text",plain:"",onClick:D=>x(t.userId,1)},{default:n(()=>e[9]||(e[9]=[r("解禁")])),_:2},1032,["onClick"])):m("",!0)]),_:1})]),_:1},8,["data"]),a(B,{background:"",size:"small",layout:"total, sizes, prev, pager, next, jumper",total:b.value,"current-page":l.pageNum,"onUpdate:currentPage":e[2]||(e[2]=t=>l.pageNum=t),"page-size":l.pageSize,"onUpdate:pageSize":e[3]||(e[3]=t=>l.pageSize=t),"page-sizes":[5,10,30,50],onSizeChange:w,onCurrentChange:V},null,8,["total","current-page","page-size"])],64)}}};export{ee as default};
